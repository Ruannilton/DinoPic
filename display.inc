#IFNDEF CORNIO_DISPLAY_HEADER
#DEFINE CORNIO_DISPLAY_HEADER  
 
#INCLUDE "lib.inc"
 
DISPLAY_VARS MACRO       
CORNIO_DISPLAY_DISP		RES	       1
CORNIO_DISPLAY_VALUE		RES	       1  
CORNIO_DISPLAY_TO_DRAW_DISP	RES	       1
CORNIO_DISPLAY_TO_DRAW_VALUE	RES	       1
 ENDM
 
DISP_1	 EQU  B'00000100'
DISP_2	 EQU  B'00001000'
DISP_3	 EQU  B'00010000'
DISP_4	 EQU  B'00100000'

	 
SHOW_0	 EQU  B'00111111'
SHOW_1	 EQU  B'00000110'
SHOW_2	 EQU  B'01011011'
SHOW_3	 EQU  B'01001111'
SHOW_4	 EQU  B'01100110'
SHOW_5	 EQU  B'01101101'
SHOW_6	 EQU  B'01111101'
SHOW_7	 EQU  B'00100111'
SHOW_8	 EQU  B'01111111'
SHOW_9	 EQU  B'01100111'
	 
CORNIO_DISPLAY MACRO DISP,VALUE
    MOVFF DISP,PORTA    
    MOVLF VALUE,PORTD
    DELAY_MS D'2'
    ENDM
    
 DISPLAY_F MACRO DISPLAY,FILE
    MOVLF DISPLAY,CORNIO_DISPLAY_TO_DRAW_DISP
    MOVFF FILE,CORNIO_DISPLAY_TO_DRAW_VALUE
    CALL  CORNIO_DISPLAY_F_DEF     
    ENDM 
	 
DEFINE_DISPLAY_FUNCS MACRO
 #IFNDEF DEFINE_DISPLAY_FUNC_HEAD
 #DEFINE DEFINE_DISPLAY_FUNC_HEAD
 
   ENABLE_DISPLAY:
	BANK1
	MOVLW   B'00001000'
	MOVWF   TRISB
	CLRF    TRISD
	CLRF    TRISA
	BANK0
	CLRF PORTB 
	CLRF PORTD
	RETURN
    
   CORNIO_DISPLAY_F_DEF:
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'9'
	JE CORNIO_DRAW_9
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'8'
	JE CORNIO_DRAW_8
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'7'
	JE CORNIO_DRAW_7
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'6'
	JE CORNIO_DRAW_6
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'5'
	JE CORNIO_DRAW_5
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'4'
	JE CORNIO_DRAW_4
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'3'
	JE CORNIO_DRAW_3
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'2'
	JE CORNIO_DRAW_2
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'1'
	JE CORNIO_DRAW_1
	CMPFL CORNIO_DISPLAY_TO_DRAW_VALUE,D'0'
	JE CORNIO_DRAW_0
	
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_9:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_9
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_8:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_8
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_7:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_7
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_6:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_6
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_5:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_5
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_4:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_4
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_3:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_3
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_2:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_2
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_1:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_1
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DRAW_0:
	CORNIO_DISPLAY CORNIO_DISPLAY_TO_DRAW_DISP,SHOW_0
	GOTO CORNIO_DISPLAY_F_DEF_EXIT
 CORNIO_DISPLAY_F_DEF_EXIT:
    RETURN
    
    
    #ENDIF
 ENDM
	 

#ENDIF