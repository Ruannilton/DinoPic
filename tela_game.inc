#IFNDEF TELA_GAME_HEADER
#DEFINE TELA_GAME_HEADER
    
#DEFINE H +1
#DEFINE L 

#INCLUDE "lib.inc"    
#INCLUDE "lcd.inc" 
    
TELA_GAME_VARS MACRO
  VOANDO	    RES	1
  TEMPO_VOANDO	    RES 1
  CENA_LINHA_4      RES 1
  CENA_LINHA_4_1    RES 1
  TEMP_PT_D	    RES 1
  TEMP_PT_U	    RES 1
  ENDM


  DESENHA_PEDRA MACRO FILE,BIT
    BTFSS FILE,BIT
    GOTO $+2
    GOTO $+5
    LCD_DAT ' '
    GOTO $+4
    LCD_DAT '@'
    NOP
    ENDM
  
TELA_GAME_DEFINE_FUNCS MACRO
 
TELA_GAME:
    CALL LCD_ENABLE
    MOVFF PONTUACAO_D,TEMP_PT_D
    MOVFF PONTUACAO_U,TEMP_PT_U
    MOVLW D'48'
    ADDWF TEMP_PT_D
    ADDWF TEMP_PT_U
    LCD_CMD L_L1
    LCD_DAT 'P'
    LCD_DAT 'O'
    LCD_DAT 'N'
    LCD_DAT 'T'
    LCD_DAT 'O'
    LCD_DAT 'S'
    LCD_DAT ':'
    LCD_DAT_F TEMP_PT_D
    LCD_DAT_F TEMP_PT_U
    
    CMPFL VOANDO,1
    JNE  PLAYER_ON_4
  
 PLAYER_ON_3:    
	LCD_CMD L_L3	;LINHA 3
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT 'R'
	
	
	LCD_CMD L_L4	;LINHA 4
	DESENHA_PEDRA CENA_LINHA_4_1,7
	DESENHA_PEDRA CENA_LINHA_4_1,6
	DESENHA_PEDRA CENA_LINHA_4_1,5
	DESENHA_PEDRA CENA_LINHA_4_1,4
	DESENHA_PEDRA CENA_LINHA_4_1,3
	DESENHA_PEDRA CENA_LINHA_4_1,2
	DESENHA_PEDRA CENA_LINHA_4_1,1
	DESENHA_PEDRA CENA_LINHA_4_1,0
	DESENHA_PEDRA CENA_LINHA_4,7
	DESENHA_PEDRA CENA_LINHA_4,6
	DESENHA_PEDRA CENA_LINHA_4,5
	DESENHA_PEDRA CENA_LINHA_4,4
	DESENHA_PEDRA CENA_LINHA_4,3
	DESENHA_PEDRA CENA_LINHA_4,2
	DESENHA_PEDRA CENA_LINHA_4,1
	DESENHA_PEDRA CENA_LINHA_4,0
	
	GOTO END_PLAYER_DRAW
 PLAYER_ON_4:
	
	LCD_CMD L_L3	;LINHA 3
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	LCD_DAT ' '
	
        LCD_CMD L_L4
	DESENHA_PEDRA CENA_LINHA_4_1,7
	DESENHA_PEDRA CENA_LINHA_4_1,6
	DESENHA_PEDRA CENA_LINHA_4_1,5
	DESENHA_PEDRA CENA_LINHA_4_1,4
	DESENHA_PEDRA CENA_LINHA_4_1,3
	DESENHA_PEDRA CENA_LINHA_4_1,2
	DESENHA_PEDRA CENA_LINHA_4_1,1
	LCD_DAT 'R'
	DESENHA_PEDRA CENA_LINHA_4,7
	DESENHA_PEDRA CENA_LINHA_4,6
	DESENHA_PEDRA CENA_LINHA_4,5
	DESENHA_PEDRA CENA_LINHA_4,4
	DESENHA_PEDRA CENA_LINHA_4,3
	DESENHA_PEDRA CENA_LINHA_4,2
	DESENHA_PEDRA CENA_LINHA_4,1
	DESENHA_PEDRA CENA_LINHA_4,0
	GOTO END_PLAYER_DRAW
	
END_PLAYER_DRAW:
    RETURN
 
 ENDM
    
#ENDIF


